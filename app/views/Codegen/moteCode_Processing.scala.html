@(server: String, channel: String, controls: List[model.codegen.Interactable])

import nl.tue.id.oocsi.*;

/************************************************************************************************
   Generated by OOCSI-web 0.25

   How to use this?
   Step 1: create a unique handle (-> OOCSIName) and fill in the server (-> hostname)
   Step 2: use the controlled variables in the draw() function

************************************************************************************************/

// controlled variables
@for(control <- controls) {
@if(control.isButton()){boolean @control.getVarName() = false;}
@if(control.isSlider()){int @control.getVarName() = @control.getDefault();}
}
long lastUpdate = 0;

void setup() {
  size(200, 200);
  noStroke();

  // connect to OOCSI server (we use 3 # characters for a randomly assign handle)
  OOCSI oocsi = new OOCSI(this, "OOCSImote_receiver_###", "@server");
  oocsi.subscribe("@channel", "handleEvent");
}

void draw() {
  // put your main code here, to run repeatedly:
  // ...
  // ..
  // .
  // here you can use the controlled variables in how the design "acts"
  // .
  // ..
  // ...
}

void handleEvent(OOCSIEvent event) {

@for(control <- controls) {
@if(control.isTrigger()){  if(event.has("@control.par")) { trigger_@{control.getVarName()}(); }}
@if(control.isButton()){  @control.getVarName() = event.getBoolean("@control.par", @control.getVarName());}
@if(control.isSlider()){  @control.getVarName() = event.getInt("@control.par", @control.getVarName());}
}
  lastUpdate = event.getTime();
}

@for(control <- controls) {
@if(control.isTrigger()){  
void trigger_@{control.getVarName()}() {
  // your trigger code
}
}
}